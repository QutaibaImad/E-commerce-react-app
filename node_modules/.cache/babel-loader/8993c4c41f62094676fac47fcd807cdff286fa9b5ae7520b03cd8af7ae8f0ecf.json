{"ast":null,"code":"import _slicedToArray from\"C:/Users/Lenovo/Desktop/E-commerce/Q.Shopping-Cart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useParams}from\"react-router-dom\";import{specialOffers}from\"../../data/special-offers\";import\"./special-offers-page.css\";import Rating from\"../../components/rating/Rating\";import ProductDescription from\"../single-product/ProductDescription\";import{useDispatch}from\"react-redux\";import{addToCart}from\"../../redux/apiCalls/cartApiCall\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SpecialOffersPage=function SpecialOffersPage(){var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;var product=specialOffers.find(function(p){return p.id===+id;});var images=product.images,title=product.title,rating=product.rating,reviews=product.reviews,price=product.price,discount=product.discount;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),imageIndex=_useState2[0],setImageIndex=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),quantity=_useState4[0],setQuantity=_useState4[1];var calculatedDiscount=price-discount*price/100;// Add To Cart Handler\nvar addToCartHandler=function addToCartHandler(){dispatch(addToCart({id:id,quantity:quantity,price:price,title:title,image:images[0]}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"special-offers-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"special-offers-page-img-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:images[imageIndex],alt:\"\",className:\"special-offers-page-img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"special-offers-page-select\",children:images.map(function(img,index){return/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return setImageIndex(index);},className:\"select-img\",src:img,alt:\"\"},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"special-offers-page-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"special-offers-page-title\",children:title}),/*#__PURE__*/_jsx(Rating,{rating:rating,reviews:reviews}),/*#__PURE__*/_jsxs(\"div\",{className:\"special-offers-price\",children:[/*#__PURE__*/_jsxs(\"b\",{className:\"special-offers-item\",children:[\"$\",price]}),/*#__PURE__*/_jsxs(\"b\",{className:\"special-offers-final-price-item\",children:[\"$\",calculatedDiscount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"special-offers-add-to-cart\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{value:quantity,onChange:function onChange(e){return setQuantity(e.target.value);},type:\"number\",min:\"1\",max:\"10\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addToCartHandler,className:\"add-to-cart-btn\",children:\"add To Cart\"})]})]})]}),/*#__PURE__*/_jsx(ProductDescription,{})]});};export default SpecialOffersPage;","map":{"version":3,"names":["useState","useParams","specialOffers","Rating","ProductDescription","useDispatch","addToCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SpecialOffersPage","dispatch","_useParams","id","product","find","p","images","title","rating","reviews","price","discount","_useState","_useState2","_slicedToArray","imageIndex","setImageIndex","_useState3","_useState4","quantity","setQuantity","calculatedDiscount","addToCartHandler","image","children","className","src","alt","map","img","index","onClick","value","onChange","e","target","type","min","max"],"sources":["C:/Users/Lenovo/Desktop/E-commerce/Q.Shopping-Cart/src/pages/special-offers-page/SpecialOffersPage.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { specialOffers } from \"../../data/special-offers\";\r\nimport \"./special-offers-page.css\";\r\nimport Rating from \"../../components/rating/Rating\";\r\nimport ProductDescription from \"../single-product/ProductDescription\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToCart } from \"../../redux/apiCalls/cartApiCall\";\r\n\r\nconst SpecialOffersPage = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = useParams();\r\n  const product = specialOffers.find((p) => p.id === +id);\r\n  const { images, title, rating, reviews, price, discount } = product;\r\n\r\n  const [imageIndex, setImageIndex] = useState(0);\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const calculatedDiscount = price - (discount * price) / 100;\r\n\r\n  // Add To Cart Handler\r\n  const addToCartHandler = () => {\r\n    dispatch(\r\n      addToCart({\r\n        id: id,\r\n        quantity: quantity,\r\n        price: price,\r\n        title: title,\r\n        image: images[0],\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"special-offers-page\">\r\n        <div className=\"special-offers-page-img-wrapper\">\r\n          <img\r\n            src={images[imageIndex]}\r\n            alt=\"\"\r\n            className=\"special-offers-page-img\"\r\n          />\r\n          <div className=\"special-offers-page-select\">\r\n            {images.map((img, index) => (\r\n              <img\r\n                onClick={() => setImageIndex(index)}\r\n                className=\"select-img\"\r\n                key={index}\r\n                src={img}\r\n                alt=\"\"\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"special-offers-page-info\">\r\n          <h3 className=\"special-offers-page-title\">{title}</h3>\r\n          <Rating rating={rating} reviews={reviews} />\r\n          <div className=\"special-offers-price\">\r\n            <b className=\"special-offers-item\">${price}</b>\r\n            <b className=\"special-offers-final-price-item\">\r\n              ${calculatedDiscount}\r\n            </b>\r\n          </div>\r\n          <div className=\"special-offers-add-to-cart\">\r\n            <div>Amount</div>\r\n            <input value={quantity} onChange={e => setQuantity(e.target.value)} type=\"number\" min=\"1\" max=\"10\" />\r\n            <button onClick={addToCartHandler} className=\"add-to-cart-btn\">add To Cart</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ProductDescription />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SpecialOffersPage;\r\n"],"mappings":"wIAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,aAAa,KAAQ,2BAA2B,CACzD,MAAO,2BAA2B,CAClC,MAAO,CAAAC,MAAM,KAAM,gCAAgC,CACnD,MAAO,CAAAC,kBAAkB,KAAM,sCAAsC,CACrE,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,SAAS,KAAQ,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7D,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9B,GAAM,CAAAC,QAAQ,CAAGT,WAAW,EAAE,CAE9B,IAAAU,UAAA,CAAed,SAAS,EAAE,CAAlBe,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACV,GAAM,CAAAC,OAAO,CAAGf,aAAa,CAACgB,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACH,EAAE,GAAK,CAACA,EAAE,GAAC,CACvD,GAAQ,CAAAI,MAAM,CAA8CH,OAAO,CAA3DG,MAAM,CAAEC,KAAK,CAAuCJ,OAAO,CAAnDI,KAAK,CAAEC,MAAM,CAA+BL,OAAO,CAA5CK,MAAM,CAAEC,OAAO,CAAsBN,OAAO,CAApCM,OAAO,CAAEC,KAAK,CAAeP,OAAO,CAA3BO,KAAK,CAAEC,QAAQ,CAAKR,OAAO,CAApBQ,QAAQ,CAEvD,IAAAC,SAAA,CAAoC1B,QAAQ,CAAC,CAAC,CAAC,CAAA2B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAAgC/B,QAAQ,CAAC,CAAC,CAAC,CAAAgC,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAApCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5B,GAAM,CAAAG,kBAAkB,CAAGX,KAAK,CAAIC,QAAQ,CAAGD,KAAK,CAAI,GAAG,CAE3D;AACA,GAAM,CAAAY,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7BtB,QAAQ,CACNR,SAAS,CAAC,CACRU,EAAE,CAAEA,EAAE,CACNiB,QAAQ,CAAEA,QAAQ,CAClBT,KAAK,CAAEA,KAAK,CACZH,KAAK,CAAEA,KAAK,CACZgB,KAAK,CAAEjB,MAAM,CAAC,CAAC,CACjB,CAAC,CAAC,CACH,CACH,CAAC,CAED,mBACEV,KAAA,CAAAE,SAAA,EAAA0B,QAAA,eACE5B,KAAA,QAAK6B,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClC5B,KAAA,QAAK6B,SAAS,CAAC,iCAAiC,CAAAD,QAAA,eAC9C9B,IAAA,QACEgC,GAAG,CAAEpB,MAAM,CAACS,UAAU,CAAE,CACxBY,GAAG,CAAC,EAAE,CACNF,SAAS,CAAC,yBAAyB,EACnC,cACF/B,IAAA,QAAK+B,SAAS,CAAC,4BAA4B,CAAAD,QAAA,CACxClB,MAAM,CAACsB,GAAG,CAAC,SAACC,GAAG,CAAEC,KAAK,qBACrBpC,IAAA,QACEqC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAf,aAAa,CAACc,KAAK,CAAC,EAAC,CACpCL,SAAS,CAAC,YAAY,CAEtBC,GAAG,CAAEG,GAAI,CACTF,GAAG,CAAC,EAAE,EAFDG,KAAK,CAGV,EACH,CAAC,EACE,GACF,cACNlC,KAAA,QAAK6B,SAAS,CAAC,0BAA0B,CAAAD,QAAA,eACvC9B,IAAA,OAAI+B,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAEjB,KAAK,EAAM,cACtDb,IAAA,CAACL,MAAM,EAACmB,MAAM,CAAEA,MAAO,CAACC,OAAO,CAAEA,OAAQ,EAAG,cAC5Cb,KAAA,QAAK6B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,eACnC5B,KAAA,MAAG6B,SAAS,CAAC,qBAAqB,CAAAD,QAAA,EAAC,GAAC,CAACd,KAAK,GAAK,cAC/Cd,KAAA,MAAG6B,SAAS,CAAC,iCAAiC,CAAAD,QAAA,EAAC,GAC5C,CAACH,kBAAkB,GAClB,GACA,cACNzB,KAAA,QAAK6B,SAAS,CAAC,4BAA4B,CAAAD,QAAA,eACzC9B,IAAA,QAAA8B,QAAA,CAAK,QAAM,EAAM,cACjB9B,IAAA,UAAOsC,KAAK,CAAEb,QAAS,CAACc,QAAQ,CAAE,SAAAA,SAAAC,CAAC,QAAI,CAAAd,WAAW,CAACc,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAACI,IAAI,CAAC,QAAQ,CAACC,GAAG,CAAC,GAAG,CAACC,GAAG,CAAC,IAAI,EAAG,cACrG5C,IAAA,WAAQqC,OAAO,CAAET,gBAAiB,CAACG,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,aAAW,EAAS,GAC/E,GACF,GACF,cACN9B,IAAA,CAACJ,kBAAkB,IAAG,GACrB,CAEP,CAAC,CAED,cAAe,CAAAS,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}