{"ast":null,"code":"import _slicedToArray from\"C:/Users/Lenovo/Desktop/E-commerce/Q.Shopping-Cart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import ProductList from\"./ProductList\";import\"./products.css\";import{useState,useEffect}from\"react\";import ProductSidebar from\"./ProductSidebar\";import Pagination from\"./Pagination\";import Spinner from\"../../components/spinner/Spinner\";import{useSelector,useDispatch}from\"react-redux\";import{fetchProducts}from\"../../redux/apiCalls/productApiCall\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Products=function Products(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.product;}),products=_useSelector.products,loading=_useSelector.loading;var _useState=useState(\"select\"),_useState2=_slicedToArray(_useState,2),sortItem=_useState2[0],setSortItem=_useState2[1];var _useState3=useState(\"all\"),_useState4=_slicedToArray(_useState3,2),filterItem=_useState4[0],setFilterItem=_useState4[1];var _useState5=useState(4),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];useEffect(function(){dispatch(fetchProducts());},[]);// Filter Product\nvar filteredProduct=products.filter(function(p){return filterItem===\"laptop\"?p.isLaptop===true:filterItem===\"mobile\"?p.isLaptop===false:p;});// Sort Product\nvar sortedProductList=sortItem===\"low\"?filteredProduct.sort(function(a,b){return a.price-b.price;}):sortItem===\"high\"?filteredProduct.sort(function(a,b){return b.price-a.price;}):filteredProduct.sort(function(a,b){return a.title>b.title?1:-1;});// Pagnination\nvar PRODUCT_PER_PAGE=3;var pages=Math.ceil(sortedProductList.length/PRODUCT_PER_PAGE);var startIndex=(currentPage-1)*PRODUCT_PER_PAGE;var finishIndex=currentPage*PRODUCT_PER_PAGE;var orderedProducts=sortedProductList.slice(startIndex,finishIndex);if(loading)return/*#__PURE__*/_jsx(Spinner,{});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"products\",children:[/*#__PURE__*/_jsx(ProductSidebar,{setSortItem:setSortItem,sortItem:sortItem,filterItem:filterItem,setFilterItem:setFilterItem,setCurrentPage:setCurrentPage}),/*#__PURE__*/_jsx(ProductList,{products:orderedProducts})]}),/*#__PURE__*/_jsx(Pagination,{pages:pages,currentPage:currentPage,setCurrentPage:setCurrentPage})]});};export default Products;","map":{"version":3,"names":["ProductList","useState","useEffect","ProductSidebar","Pagination","Spinner","useSelector","useDispatch","fetchProducts","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Products","dispatch","_useSelector","state","product","products","loading","_useState","_useState2","_slicedToArray","sortItem","setSortItem","_useState3","_useState4","filterItem","setFilterItem","_useState5","_useState6","currentPage","setCurrentPage","filteredProduct","filter","p","isLaptop","sortedProductList","sort","a","b","price","title","PRODUCT_PER_PAGE","pages","Math","ceil","length","startIndex","finishIndex","orderedProducts","slice","children","className"],"sources":["C:/Users/Lenovo/Desktop/E-commerce/Q.Shopping-Cart/src/pages/products/Products.jsx"],"sourcesContent":["import ProductList from \"./ProductList\";\r\nimport \"./products.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport ProductSidebar from \"./ProductSidebar\";\r\nimport Pagination from \"./Pagination\";\r\nimport Spinner from \"../../components/spinner/Spinner\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { fetchProducts } from \"../../redux/apiCalls/productApiCall\";\r\n\r\nconst Products = () => {\r\n  const dispatch = useDispatch();\r\n  const { products,loading } = useSelector((state) => state.product);\r\n\r\n  const [sortItem, setSortItem] = useState(\"select\");\r\n  const [filterItem, setFilterItem] = useState(\"all\");\r\n  const [currentPage, setCurrentPage] = useState(4);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchProducts());\r\n  }, []);\r\n\r\n  // Filter Product\r\n  const filteredProduct = products.filter((p) =>\r\n    filterItem === \"laptop\"\r\n      ? p.isLaptop === true\r\n      : filterItem === \"mobile\"\r\n      ? p.isLaptop === false\r\n      : p\r\n  );\r\n\r\n  // Sort Product\r\n  const sortedProductList =\r\n    sortItem === \"low\"\r\n      ? filteredProduct.sort((a, b) => a.price - b.price)\r\n      : sortItem === \"high\"\r\n      ? filteredProduct.sort((a, b) => b.price - a.price)\r\n      : filteredProduct.sort((a, b) => (a.title > b.title ? 1 : -1));\r\n\r\n  // Pagnination\r\n  const PRODUCT_PER_PAGE = 3;\r\n  const pages = Math.ceil(sortedProductList.length / PRODUCT_PER_PAGE);\r\n  const startIndex = (currentPage - 1) * PRODUCT_PER_PAGE;\r\n  const finishIndex = currentPage * PRODUCT_PER_PAGE;\r\n\r\n  const orderedProducts = sortedProductList.slice(startIndex, finishIndex);\r\n\r\n  if (loading) return <Spinner />;\r\n\r\n  return (\r\n    <>\r\n      <section className=\"products\">\r\n        <ProductSidebar\r\n          setSortItem={setSortItem}\r\n          sortItem={sortItem}\r\n          filterItem={filterItem}\r\n          setFilterItem={setFilterItem}\r\n          setCurrentPage={setCurrentPage}\r\n        />\r\n        <ProductList products={orderedProducts} />\r\n      </section>\r\n      <Pagination\r\n        pages={pages}\r\n        currentPage={currentPage}\r\n        setCurrentPage={setCurrentPage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}