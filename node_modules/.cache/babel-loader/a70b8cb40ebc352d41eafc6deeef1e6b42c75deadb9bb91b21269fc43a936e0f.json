{"ast":null,"code":"import _slicedToArray from\"C:/Users/Lenovo/Desktop/E-commerce/Q.Shopping-Cart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from\"react-router-dom\";import{useEffect,useState}from\"react\";import Rating from\"../../components/rating/Rating\";import\"./single-product.css\";import ProductDescription from\"./ProductDescription\";import{useSelector,useDispatch}from\"react-redux\";import{fetchSingleProduct}from\"../../redux/apiCalls/productApiCall\";import Spinner from\"../../components/spinner/Spinner\";import{addToCart}from\"../../redux/apiCalls/cartApiCall\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SingleProduct=function SingleProduct(){var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.product;}),product=_useSelector.product,loading=_useSelector.loading;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),quantity=_useState2[0],setQuantity=_useState2[1];useEffect(function(){dispatch(fetchSingleProduct(id));},[id]);// Add To Cart Handler\nvar addToCartHandler=function addToCartHandler(){dispatch(addToCart({id:product===null||product===void 0?void 0:product.id,quantity:quantity,price:product===null||product===void 0?void 0:product.price,title:product===null||product===void 0?void 0:product.title,image:product===null||product===void 0?void 0:product.image}));};if(loading)return/*#__PURE__*/_jsx(Spinner,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"single-product\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image-wrapper\",children:/*#__PURE__*/_jsx(\"img\",{src:product===null||product===void 0?void 0:product.image,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"product-title\",children:product===null||product===void 0?void 0:product.title}),/*#__PURE__*/_jsx(Rating,{rating:product===null||product===void 0?void 0:product.rating,reviews:product===null||product===void 0?void 0:product.reviews}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"$\",product===null||product===void 0?void 0:product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-add-to-cart\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"The Amount\"}),/*#__PURE__*/_jsx(\"input\",{value:quantity,onChange:function onChange(e){return setQuantity(e.target.value);},type:\"number\",min:\"1\",max:\"10\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addToCartHandler,className:\"add-to-cart-btn\",children:\"Add To Cart\"})]})]})]}),/*#__PURE__*/_jsx(ProductDescription,{})]});};export default SingleProduct;","map":{"version":3,"names":["useParams","useEffect","useState","Rating","ProductDescription","useSelector","useDispatch","fetchSingleProduct","Spinner","addToCart","jsx","_jsx","jsxs","_jsxs","SingleProduct","_useParams","id","dispatch","_useSelector","state","product","loading","_useState","_useState2","_slicedToArray","quantity","setQuantity","addToCartHandler","price","title","image","className","children","src","alt","rating","reviews","value","onChange","e","target","type","min","max","onClick"],"sources":["C:/Users/Lenovo/Desktop/E-commerce/Q.Shopping-Cart/src/pages/single-product/SingleProduct.jsx"],"sourcesContent":["import { useParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Rating from \"../../components/rating/Rating\";\r\nimport \"./single-product.css\";\r\nimport ProductDescription from \"./ProductDescription\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { fetchSingleProduct } from \"../../redux/apiCalls/productApiCall\";\r\nimport Spinner from \"../../components/spinner/Spinner\";\r\nimport { addToCart } from \"../../redux/apiCalls/cartApiCall\";\r\n\r\nconst SingleProduct = () => {\r\n  const { id } = useParams();\r\n\r\n  const dispatch = useDispatch();\r\n  const { product, loading } = useSelector((state) => state.product);\r\n\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchSingleProduct(id));\r\n  }, [id]);\r\n\r\n  // Add To Cart Handler\r\n  const addToCartHandler = () => {\r\n    dispatch(\r\n      addToCart({\r\n        id: product?.id,\r\n        quantity: quantity,\r\n        price: product?.price,\r\n        title: product?.title,\r\n        image: product?.image,\r\n      })\r\n    );\r\n  };\r\n\r\n  if (loading) return <Spinner />;\r\n\r\n  return (\r\n    <div className=\"single-product\">\r\n      <div className=\"product-wrapper\">\r\n        <div className=\"product-image-wrapper\">\r\n          <img src={product?.image} alt=\"\" />\r\n        </div>\r\n        <div className=\"product-info\">\r\n          <h1 className=\"product-title\">{product?.title}</h1>\r\n          <Rating rating={product?.rating} reviews={product?.reviews} />\r\n          <div className=\"product-price\">${product?.price}</div>\r\n          <div className=\"product-add-to-cart\">\r\n            <div>The Amount</div>\r\n            <input\r\n              value={quantity}\r\n              onChange={(e) => setQuantity(e.target.value)}\r\n              type=\"number\"\r\n              min=\"1\"\r\n              max=\"10\"\r\n            />\r\n            <button onClick={addToCartHandler} className=\"add-to-cart-btn\">\r\n              Add To Cart\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ProductDescription />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingleProduct;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}